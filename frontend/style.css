/* =========================
   Theme tokens
   ========================= */
:root{
  --bg:#ebe6d6; --panel:#fff; --brand:#6378ff; --brand-600:#5751d1; --brand-700:#3a4ec9;
  --text:#333; --muted:#666; --ring:rgba(99,120,255,.35);
  --shadow-sm:0 1px 2px rgba(0,0,0,.06); --shadow-md:0 4px 10px rgba(0,0,0,.10);
}

/* =========================
   Base
   ========================= */
body{
  background-color:var(--bg); color:var(--text);
  font-family:"Scope One",serif; font-size:large;
  display:flex; flex-direction:column; align-items:center; text-align:center; margin:0;
}
.hidden{display:none}
.error-text{color:red;display:none}

/* =========================
   Panels & Heading
   ========================= */
.form-heading-container,.form-entry-container{
  width:min(94vw,920px); max-width:920px; background:var(--panel);
  border-radius:12px; padding:20px; box-shadow:var(--shadow-md); margin-top:20px;
}
.form-title{
  font-family:"Great Vibes",cursive; font-size:xxx-large; font-weight:200;
  text-align:center; line-height:1.05; margin-bottom:20px;
}
.instruct{font-family:"Ponomar",sans-serif;font-size:x-large;font-weight:300;width:100%}

/* =========================
   Buttons / Controls
   ========================= */
.styled-upload-button, button{
  background-color:var(--brand); color:#fff; padding:10px;
  border:none; border-radius:6px; font-size:medium;
  font-family:"Scope One",serif; font-weight:700; cursor:pointer;
  width:auto; min-width:140px;
}
.styled-upload-button:hover,button:hover{background-color:var(--brand-600)}
.styled-upload-button:active,button:active{background-color:var(--brand-700)}
.picker-row,.controls-row{
  display:flex; gap:10px; align-items:center; margin-top:10px; flex-wrap:wrap; justify-content:flex-start;
}
@media (max-width:640px){
  .picker-row,.controls-row{flex-direction:column;align-items:stretch}
  .styled-upload-button,button{width:100%;margin-right:0}
}

/* =========================
   Drop Zone (with SVG bg)
   ========================= */
.drop-zone{
  position:sticky; width:90%; margin: 0 auto;
  border:2px dashed #bfc6ff; border-radius:12px; padding:28px;
  text-align:center; background:rgba(0,0,0,.02); color:var(--muted);
  cursor:pointer; user-select:none;
  transition:background .15s,border-color .15s,box-shadow .15s,transform .15s;
}
.drop-zone:focus{outline:0; box-shadow:0 0 0 3px var(--ring)}
.drop-zone.dragover{border-color:var(--brand); background:rgba(99,120,255,.06); transform:scale(1.01); box-shadow:0 6px 16px rgba(0,0,0,.12)}
.dz-instructions{display:grid;gap:6px;position:relative;z-index:1}
.dz-instructions strong{color:#2b2b2b;font-weight:700}
.dz-instructions span,.dz-instructions small{color:var(--muted)}
.drop-zone::before{
  content:""; position:absolute; inset:0; margin:auto; z-index:0;
  width:clamp(64px,14vw,96px); height:clamp(64px,14vw,96px);
  background-color:var(--brand); opacity:.18;
  -webkit-mask-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><path d='M22 50h24a12 12 0 0 0 0-24h-1.2A16 16 0 0 0 14 30a10 10 0 0 0 8 20z' fill='%23000'/><path d='M32 20v18' stroke='%23000' stroke-width='8' stroke-linecap='round'/><path d='M22 30l10-10 10 10' fill='none' stroke='%23000' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  -webkit-mask-repeat:no-repeat; -webkit-mask-position:center; -webkit-mask-size:contain;
  mask-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><path d='M22 50h24a12 12 0 0 0 0-24h-1.2A16 16 0 0 0 14 30a10 10 0 0 0 8 20z' fill='%23000'/><path d='M32 20v18' stroke='%23000' stroke-width='8' stroke-linecap='round'/><path d='M22 30l10-10 10 10' fill='none' stroke='%23000' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  mask-repeat:no-repeat; mask-position:center; mask-size:contain; pointer-events:none;
}
.drop-zone.dragover::before{opacity:.32; background-color:var(--brand-700); animation:dz-float 1.2s ease-in-out infinite}
@keyframes dz-float{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
@media (prefers-reduced-motion:reduce){.drop-zone{transition:none}.drop-zone.dragover{transform:none}}
@media (max-width:420px){.drop-zone{padding:22px}.drop-zone::before{width:60px;height:60px}}

/* =========================
   List container width (index.html keeps it outside the panel)
   ========================= */
#uploadList{
  width:min(94vw,920px); max-width:920px; margin-top:20px; box-sizing:border-box;
  padding:0px; 
}

/* =========================
   File items (rendered by JS)
   ========================= */
.upload-item{
  width:100%; box-sizing:border-box; margin:8px 0;
  background:#fff; border-radius:14px; box-shadow:0 4px 12px rgba(20,20,20,.06);
  padding:12px 14px;
  display:grid; grid-template-columns:56px 1fr auto; column-gap:12px; align-items:center; text-align:left;
}
/* Thumb */
.upload-item .thumb{width:56px;height:56px;border-radius:10px;overflow:hidden}
.upload-item .thumb img{width:100%;height:100%;object-fit:cover;display:block}
/* Middle column */
.upload-item .meta{min-width:0;display:grid;grid-template-rows:auto auto auto;row-gap:4px}
.upload-item .name{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.upload-item .name[title]{cursor:help}
.upload-item .subline{font-size:.9rem;opacity:.7}
/* Progress line */
.upload-item .progress-row{display:grid;grid-template-columns:1fr 3.5ch;align-items:center;column-gap:10px}
.upload-item progress{width:100%;height:10px;border-radius:999px}
.upload-item .pct{text-align:right}
/* Actions (trash only for now) */
.upload-item .actions{display:flex;align-items:center;gap:6px;min-width:28px}
.upload-item .trash{width: 20px;;height:28px;padding:0;display:inline-grid;place-items:center;border-radius:8px;background:transparent;border:none;color:#888;cursor:pointer}
.upload-item .trash:hover{background:rgba(0,0,0,.04);color:#c33}

/* States (tint progress) */
.upload-item.paused  progress::-webkit-progress-value{background-color:#b9c2ff}
.upload-item.done    progress::-webkit-progress-value{background-color:#22c55e}
.upload-item.failed  progress::-webkit-progress-value{background-color:#ef4444}

/* Mobile tweaks */
@media (max-width:520px){
  .upload-item{grid-template-columns:48px 1fr auto;padding:10px 12px}
  .upload-item .thumb{width:48px;height:48px}
}

/* =========================
   Native <progress> polish (global)
   ========================= */
progress{
  appearance:none;-webkit-appearance:none;width:100%;height:12px;border:none;border-radius:999px;background:#e8ebff;overflow:hidden
}
progress::-webkit-progress-bar{background:#e8ebff;border-radius:999px}
progress::-webkit-progress-value{background:var(--brand);border-radius:999px}
progress::-moz-progress-bar{background:var(--brand);border-radius:999px}

/* =========================
   Large screen breathing
   ========================= */
@media (min-width:1280px){
  .form-heading-container,.form-entry-container{width:min(70ch,920px)}
}
